(()=>{function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var n=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n)}var a,t;return a=n,(t=[{key:"init",value:function(){$(document).on("click","#btn-maintenance",(function(e){e.preventDefault();var n=$(e.currentTarget);n.addClass("button-loading"),$.ajax({type:"POST",url:route("system.maintenance.run"),cache:!1,data:n.closest("form").serialize(),success:function(e){if(e.error)Impiger.showError(e.message);else{Impiger.showSuccess(e.message);var a=e.data;n.text(a.message),a.is_down?(n.addClass("btn-warning").removeClass("btn-info"),n.closest("form").find(".maintenance-mode-notice div span").addClass("text-danger").removeClass("text-success").text(a.notice),a.url&&($("#bypassMaintenanceMode .maintenance-mode-bypass").attr("href",a.url),$("#bypassMaintenanceMode").modal("show"))):(n.removeClass("btn-warning").addClass("btn-info"),n.closest("form").find(".maintenance-mode-notice div span").removeClass("text-danger").addClass("text-success").text(a.notice))}},error:function(e){Impiger.handleError(e)},complete:function(){n.removeClass("button-loading")}})}))}}])&&e(a.prototype,t),n}();$(document).ready((function(){(new n).init()}))})();
